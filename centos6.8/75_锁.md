- 锁
```
并发情况 | 竞争状态会使用锁

```

- 互斥锁|独占锁
```
还可以设置上锁的数量
```

- 读写锁
```
与 互斥锁|独占锁 写锁
共享锁 读锁
```

- 阻塞与非阻塞
```
是否加阻塞和非阻塞锁
其他进程遇到阻塞锁：其他进程等待，等待其他锁解除
其他进程遇到非阻塞锁：其他进程不等待，程序直接往下走
```

- 文件锁局限：
```
1. 只能在本台机器
2. 需要文件表项，消耗大
3. 父进程打开的文件表项，可以被子进程共享
```

- 秒杀，抢购锁的使用：
```
1. 利用mysql主键，上独占锁。
2. 利用redis形成分布式锁，设置key not exist。
```

- 锁的使用场景:
```
1. 常驻单进程脚本 ：生成文件，上独占和非阻塞锁
```
