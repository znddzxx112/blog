- 参考文章：innodb存储结构 http://www.cnblogs.com/binyue/p/4135121.html
- 参考文章：innodb索引原理 http://www.cnblogs.com/shijingxiang/articles/4743324.html

- 结论
```
根据本人理解，可能存在认知偏差
1. innodb存储引擎有b+树，hash索引
2. innodb的b+树主索引 采用聚餐索引，不需要回行。相比较的是myisam的b树索引，需要回行
3. innodb的b+树次索引，比如组合索引，叶子节点 数据块指向 主索引.
4. 索引能提高查询，排序，分组速度，所以order by后面的字段也可以放到组合索引中
```

- 如何选择合适的列做索引
```
1. 尽量选取整数列,int > enum > char > vchar > blob/text
char/varchar字符集 ,校验字符集，用于排序增加开销
2. 区分度 distinct()/count() 值尽可能大
3. 索引列数量尽量少于4个
4. 观察业务用到的列
```

- 命中索引
```
0. 组合索引, 遵循最左前缀原则
1. 对于单键索引，尽量选择针对当前Query 过滤性更好的索引；
2. 在选择组合索引的时候，当前Query 中过滤性最好的字段在索引字段顺序中排列越靠前越好；
3. 在选择组合索引的时候，尽量选择可以能够包含当前Query 的WHERE 子句中更多字段的索
引；
4. 尽可能通过分析统计信息和调整Query 的写法来达到选择合适索引的目的而减少通过使用
Hint 人为控制索引的选择，因为这会使后期的维护成本增加，同时增加维护所带来的潜在风险
```

- MySQL 中索引使用相关的限制(一般是指单列索引)
```
1. MyISAM 存储引擎索引键长度总和不能超过1000 字节；
2. BLOB 和TEXT 类型的列只能创建前缀索引；其实也可以创建fulltext索引。
3. MySQL 目前不支持函数索引；
4. 使用不等于（!= 或者<>）的时候MySQL 无法使用索引；
5. 过滤字段使用了函数运算后（如abs(column)），MySQL 无法使用索引；
6. Join 语句中Join 条件字段类型不一致的时候MySQL 无法使用索引；
7. 使用LIKE 操作的时候如果条件以通配符开始（ '%abc...'）MySQL 无法使用索引；
8. 使用非等值查询的时候MySQL 无法使用Hash 索引；
```

- b树 b+树 b*树区别
```
1. b树分裂
2. b+树 比 b树多了一个叶子节点指针
3. b*树 比 b+树多了非叶子节点指针
```
